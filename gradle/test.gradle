testlogger {
    theme 'standard-parallel'
    showFullStackTraces true
    showStandardStreams true
    showPassedStandardStreams false
    showSkippedStandardStreams false
    showFailedStandardStreams true
}
tasks.withType(Test) {
    forkEvery = 100
    maxParallelForks = Runtime.runtime.availableProcessors().intdiv(2) ?: 1
}

tasks.withType(Test) {
    reports.html.enabled = !System.getenv("GITHUB_ACTIONS")
    reports.junitXml.enabled = !System.getenv("GITHUB_ACTIONS")
}

tasks.withType(Checkstyle) {
    reports {
        xml.enabled = !System.getenv("GITHUB_ACTIONS")
        html.enabled = !System.getenv("GITHUB_ACTIONS")
    }
}